---
title: WeaveStageNode
description: Stage node API Reference
---

## Overview

The [WeaveStageNode](https://github.com/InditexTech/weavejs/blob/main/code/packages/sdk/src/nodes/stage/stage.ts)
class represents the root container of the canvas in Weave.js applications. Built on top of Konvaâ€™s
[Stage](https://konvajs.org/api/Konva.Stage.html) class, the WeaveStageNode manages the overall canvas
environment where all other nodes (such as Layers, Groups, and Shapes) are rendered.

As the top-level visual node, it is responsible for setting up the base coordinate system,
initializing the layers, and serving as the anchor point for user interactions like panning, zooming,
and resizing.

The class extends the [WeaveNode](/docs/sdk/api-reference/nodes/node) class

## Type

This node `nodeType` property value is `stage`.

## Import

```shell
import { WeaveStageNode } from "@inditextech/weave-sdk";
```

## Instantiation

<Callout title="Don't directly use">
  We don't recommend to use this node directly. To define the application Stage,
  use the stores `initialState` configuration property on server-side.
</Callout>

```ts
new WeaveStageNode();
```

## Konva.Node Augmentation

This Node extends the `Konva.Stage` class to define several functions:

---

### isFocused

```ts
isFocused(): boolean
```

Function that indicates if the stage is focused or not.

---

### isMouseWheelPressed

```ts
isMouseWheelPressed(): boolean
```

Function that indicates if the mouse wheel is being pressed or not.

### allowSelection

```ts
allowSelection(allowSelection?: boolean): boolean
```

Function that set is selection is allowed (when SelectionTool is disabled), useful to build
tools over the utilityLayer.

### allowSelectNodes

```ts
allowSelectNodes(nodeTypes?: string[]): string[]
```

Function that set the nodes to listen for pointer when `allowSelection()` is active.

### allowActions

```ts
allowActions(actions?: string[]): string[]
```

Function that set the actions to listen for pointer when `allowSelection()` is active.
