---
title: WeaveContextMenuPlugin
description: Trigger a contextual menu on the canvas
---

import { TypeTable } from "fumadocs-ui/components/type-table";

## Overview

The [WeaveContextMenuPlugin](https://github.com/InditexTech/weavejs/blob/main/code/packages/sdk/src/plugins/context-menu/context-menu.ts)
class that enables custom right-click (context) menus on the canvas. It provides a flexible and modular way
to trigger context-aware actions based on where and what the user right-clicksâ€”whether it's a node, empty
space, or selection.

This plugin enhances usability by letting developers define dynamic, context-sensitive options, making the
user experience faster, more intuitive, and better organized.

The class extends the [WeavePlugin](/docs/sdk/api-reference/plugins/plugin) class

## Name

This plugin `name` property value is `contextMenu`.

## Import

```shell
import { WeaveContextMenuPlugin } from "@inditextech/weave-sdk";
```

## Instantiation

```ts
new WeaveContextMenuPlugin(
  options: WeaveStageContextMenuPluginOptions,
  callbacks: WeaveStageContextMenuPluginCallbacks
);
```

## TypeScript types

```ts
type WeaveStageContextMenuPluginOptions = {
  xOffset?: number;
  yOffset?: number;
};

type WeaveOnNodeMenuCallback = (
  instance: Weave,
  selection: WeaveSelection[],
  point: Vector2d,
  visible: boolean
) => void;

type WeaveStageContextMenuPluginCallbacks = {
  onNodeMenu: WeaveOnNodeMenuCallback;
};
```

## Parameters

For `WeaveStageContextMenuPluginOptions`:

<TypeTable
  type={{
    ["xOffset"]: {
      description: "X-axis offset of the click point in pixels.",
      type: "number",
      default: "0",
    },
    ["yOffset"]: {
      description: "Y-axis offset of the click point in pixes",
      type: "number",
      default: "0",
    },
  }}
/>

For `WeaveStageContextMenuPluginCallbacks`:

<TypeTable
  type={{
    ["onNodeMenu"]: {
      required: true,
      description:
        "Callback called when an user triggers the context menu. It passes as parameters: the instance, the selected nodes, the point of click and if visible or not.",
      type: "WeaveOnNodeMenuCallback",
    },
  }}
/>
