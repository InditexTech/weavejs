---
title: WeaveConnectedUsersPlugin
description: Get an structure with information about the connected users
---

import { TypeTable } from "fumadocs-ui/components/type-table";

## Overview

The [WeaveConnectedUsersPlugin](https://github.com/InditexTech/weavejs/blob/main/code/packages/sdk/src/plugins/connected-users/connected-users.ts)
class represents a plugin that manages and returns information about users connected to a collaborative
session. It tracks user presence through the shared store and provides metadata such as active users,
their IDs, names, and statuses, enabling applications to build user lists, indicators, and collaborative
awareness features.

It enhances the multi-user experience by letting participants know who is connected, online, or active on
the canvas in real time.

The class extends the [WeavePlugin](/docs/sdk/api-reference/plugins/plugin) class

## Name

This plugin `name` property value is `connectedUsers`.

## Import

```shell
import { WeaveConnectedUsersPlugin } from "@inditextech/weave-sdk";
```

## Instantiation

```ts
new WeaveConnectedUsersPlugin(params: WeaveConnectedUsersPluginParams);
```

## TypeScript types

```ts
type WeaveUser = {
  [key: string]: any;
  name: string;
  email: string;
};

type WeaveConnectedUsers = {
  [userName: string]: WeaveUser;
};

type WeaveConnectedUsersPluginConfig = {
  getUser: () => WeaveUser;
};

type WeaveConnectedUsersPluginParams = {
  config: WeaveConnectedUsersPluginConfig;
};

type WeaveConnectedUsersChangeEvent = WeaveConnectedUsers;
```

## Parameters

For `WeaveConnectedUsersPluginParams`:

<TypeTable
  type={{
    ["config"]: {
      required: true,
      description: "Config parameters for the plugin.",
      type: "WeaveConnectedUsersPluginConfig",
    },
  }}
/>

For `WeaveConnectedUsersPluginConfig`:

<TypeTable
  type={{
    ["getUser"]: {
      required: true,
      description:
        "A function that returns the instance user metadata, used to inform the actual connected user to other peers.",
      type: "() => WeaveUser",
    },
  }}
/>

## Events

### onConnectedUsersChange

```ts
onConnectedUsersChange: WeaveConnectedUsersChangeEvent;
```

The `onConnectedUsersChange` event is called every time a user connect / disconnect from a room.
