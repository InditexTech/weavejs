---
title: Room page
description: Learn how to setup the Room page on Next.js
---

## Introduction

On this guide we build the **Room page**. This page will render the collaborative
canvas once an user joins the room.

## Overview

To setup the Room page on the Next.js project, we need to fully complete
this steps:

<div className="fd-steps">

<div className="[&_h3]:fd-step">
 
### Define the page component

To setup the `Room` page component, follow this steps:

- Create a folder named `room` on the `app` folder.
- Create a folder named `[roomId]` on the `app/room` folder.
- Create a file named `page.tsx` on the `app/room/[roomId]` folder with the following content:

  <include lang="tsx" meta='title="app/room/roomId/page.tsx"'>
    ../../../examples/manual-installation/app/room/roomId/page.tsx
  </include>

</div>

<div className="[&_h3]:fd-step">
 
### Install the UI building block components

Lets now setup the necessary [Shadcn/UI](https://ui.shadcn.com/docs) components for the `Room` page.

We'll be using the [Shadcn/UI CLI](https://ui.shadcn.com/docs/cli) to install the UI components. Accept
all the defaults from the CLI options.

- First lets install the [Tooltip](https://ui.shadcn.com/docs/components/tooltip) component

  ```shell
  npx shadcn@latest add tooltip
  ```

- Install the [Dropdown Menu](https://ui.shadcn.com/docs/components/dropdown-menu) component

  ```shell
  npx shadcn@latest add dropdown-menu
  ```

- Finally install the [Avatar](https://ui.shadcn.com/docs/components/avatar) component

  ```shell
  npx shadcn@latest add avatar
  ```

</div>

<div className="[&_h3]:fd-step">
 
### Define a constants file

Lets define a set of constants that will define the **Weave.js** Nodes, Plugins and Actions
that we will use, follow this steps:

- Lets create a folder named `utils` on the `components` folder.
- Create a file named `constants.ts` on the `components/utils` folder with the following content:

  <include lang="ts" meta='title="components/utils/constants.ts"'>
    ../../../examples/manual-installation/components/utils/constants.ts
  </include>

  File explanation:

  - **`(1)`**: Import the **Weave.js** SDK dependency.
  - **`(2)`**: Setup the Fonts available on **Weave.js**.
  - **`(3)`**: Define the nodes we'll use on this example.
  - **`(4)`**: Define the actions we'll use on this example.
  - **`(5)`**: Define the custom plugins we'll use on this example. By default the xref:api-reference:react/weave-provider.adoc[WeaveProvider]
    provider pre-defines a set of plugins. On this case we can override them or add extra plugins.

</div>

<div className="[&_h3]:fd-step">
 
### Define the page React hooks

Lets define the hooks with the logic for the Room page, this way we separate the component logic
from the UI logic. To start create a `hooks` folder on the `components` folder.

##### useHandleRouteParams hook

On the `components/hooks` folder, create a file named `use-handle-route-params.ts` with
the following content:

<include lang="tsx" meta='title="hooks/use-handle-route-params.ts"'>
  ../../../examples/manual-installation/hooks/use-handle-route-params.ts
</include>

#### useGetWebsocketsStore hook

On the `components/hooks` folder, create a file named `use-get-websockets-store.ts` with the following
content:

<include lang="tsx" meta='title="hooks/use-get-websockets-store.ts"'>
  ../../../examples/manual-installation/hooks/use-get-websockets-store.ts
</include>

#### useGetWeaveJsProps

On the `components/hooks` folder, create a file named `use-get-weave-js-props.ts` with the following
content:

<include lang="tsx" meta='title="hooks/use-get-weave-js-props.ts"'>
  ../../../examples/manual-installation/hooks/use-get-weave-js-props.ts
</include>

#### useContextMenu

On the `components/hooks` folder, create a file named `use-context-menu.ts` with the following
content:

<include lang="tsx" meta='title="hooks/use-context-menu.ts"'>
  ../../../examples/manual-installation/hooks/use-context-menu.ts
</include>

</div>

<div className="[&_h3]:fd-step">
 
### Define the page React components

Lets first setup a folder to put all our components:

- Create a `room` folder on the `components` folder.
- Create a `overlays` folder on the `components` folder.
- Create a `context-menu` folder on the `components` folder.

#### Room component

To setup the `Room` React component, create a file named `room.tsx` on the `components/room`
folder with the following content:

<include lang="tsx" meta='title="components/room/room.tsx"'>
  ../../../examples/manual-installation/components/room/room.tsx
</include>

#### RoomLayout component

To setup the `RoomLayout` React component, create a file named `room.layout.tsx` on the `components/room`
folder with the following content:

<include lang="tsx" meta='title="components/room/room.layout.tsx"'>
  ../../../examples/manual-installation/components/room/room.layout.tsx
</include>

#### RoomLoader

To setup the `Room` React component, create a file named `room-loader.tsx` on the `components/room`
folder with the following content:

<include lang="tsx" meta='title="components/room/room-loader.tsx"'>
  ../../../examples/manual-installation/components/room/room-loader.tsx
</include>

#### ConnectedUsers

To setup the `ConnectedUsers` React component, create a file named `connected-users.tsx` on the `components/overlays`
folder with the following content:

<include lang="tsx" meta='title="components/overlays/connected-users.tsx"'>
  ../../../examples/manual-installation/components/overlays/connected-users.tsx
</include>

#### ConnectionStatus

To setup the `ConnectionStatus` React component, create a file named `connection-status.tsx` on the `components/overlays`
folder with the following content:

<include lang="tsx" meta='title="components/overlays/connection-status.tsx"'>
  ../../../examples/manual-installation/components/overlays/connection-status.tsx
</include>

#### RoomInformationOverlay

To setup the `RoomInformationOverlay` React component, create a file named `room-information-overlay.tsx` on the `components/overlays`
folder with the following content:

<include
  lang="tsx"
  meta='title="components/overlays/room-information-overlay.tsx"'
>
  ../../../examples/manual-installation/components/overlays/room-information-overlay.tsx
</include>

#### RoomUsersOverlay

To setup the `RoomUsersOverlay` React component, create a file named `room-users-overlay.tsx` on the `components/overlays`
folder with the following content:

<include lang="tsx" meta='title="components/overlays/room-users-overlay.tsx"'>
  ../../../examples/manual-installation/components/overlays/room-users-overlay.tsx
</include>

#### ToolbarButton

To setup the `ToolbarButton` React component, create a file named `toolbar-button.tsx` on the `components/overlays`
folder with the following content:

<include lang="tsx" meta='title="components/overlays/toolbar-button.tsx"'>
  ../../../examples/manual-installation/components/overlays/toolbar-button.tsx
</include>

#### Toolbar

To setup the `Toolbar` React component, create a file named `toolbar.tsx` on the `components/overlays`
folder with the following content:

<include lang="tsx" meta='title="components/overlays/toolbar.tsx"'>
  ../../../examples/manual-installation/components/overlays/toolbar.tsx
</include>

#### ToolsOverlay

To setup the `ToolsOverlay` React component, create a file named `tools-overlay.tsx` on the `components/overlays`
folder with the following content:

<include lang="tsx" meta='title="components/overlays/tools-overlay.tsx"'>
  ../../../examples/manual-installation/components/overlays/tools-overlay.tsx
</include>

#### ZoomHandlerOverlay

To setup the `ZoomHandlerOverlay` React component, create a file named `zoom-handler-overlay.tsx` on the `components/overlays`
folder with the following content:

<include lang="tsx" meta='title="components/overlays/zoom-handler-overlay.tsx"'>
  ../../../examples/manual-installation/components/overlays/zoom-handler-overlay.tsx
</include>

#### ContextMenu

To setup the `ContextMenu` React component, create a file named `context-menu` on the `components/context-menu`
folder with the following content:

<include lang="tsx" meta='title="components/context-menu/context-menu.tsx"'>
  ../../../examples/manual-installation/components/context-menu/context-menu.tsx
</include>

</div>

<div className="[&_h3]:fd-step">
 
### Add Context Menu support to the global state

Add the following changes to the `store/store.ts` file, to maintain the state of the Context Menu.

<include lang="tsx" meta='title="store/store.ts"'>
  ../../../examples/manual-installation/store/store.mod-1.ts
</include>

</div>

</div>

## Next Steps

Let's now [run the project](/docs/main/manual-installation#run-the-project).
