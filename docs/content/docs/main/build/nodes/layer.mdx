---
title: Layer
description: Segment and order the Stage in layers
---

import { Accordion, Accordions } from "fumadocs-ui/components/accordion";

The Layer node is a logical container within the Stage. Based on Konva’s
[Layer](https://konvajs.org/api/Konva.Layer.html), it allows you to separate visual
elements—for example, background grids, interactive elements, or UI overlays—into
distinct rendering layers.

Layers improve rendering control, enabling selective updates, independent z-index
management, and cleaner composition of complex scenes. Nodes rendered within a Layer
share the same coordinate space but can be managed and updated independently.

## Usage

<div className="fd-steps">

<div className="[&_h3]:fd-step">

### Import the Node

Start by importing the node:

```ts
import { WeaveLayerNode } from "@inditextech/weave-sdk";
```

</div>

<div className='[&_h3]:fd-step'>

### Register the Node

Then register the node on the [Weave](/docs/sdk/api-reference/weave) class instance.

```ts
const instance = new Weave({
  ...
  nodes: [
    ...,
    new WeaveLayerNode(), // [!code ++]
  ]
})
```

</div>

<div className='[&_h3]:fd-step'>

### Use the node

<Callout type="warn">

Don't use this node directly.

</Callout>

<Callout type="warn">

The Layer node is a layering node, it doesn't render anything visual per-se to the end user.

</Callout>

To define your application structure: Stage and Layers,
use the stores `initialState` configuration property on server-side. You can find more information
on this links:

- [Websockets Store](/docs/store-websockets/api-reference/server/weave-websockets-server#shared-state-initial-value)
- [Azure Web PubSub Store](/docs/store-azure-web-pubsub/api-reference/server/weave-azure-web-pubsub-server#shared-state-initial-value)

</div>

</div>
